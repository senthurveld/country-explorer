(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();console.log("<-- Welcome to Country Explorer using API -->");const d=document.querySelector("#loader"),i=document.querySelector("#error"),p=document.getElementById("searchBtn"),m=document.getElementById("searchInput"),u=document.getElementById("countryDetails");document.getElementById("map");let a;p.addEventListener("click",async()=>{const r=m.value.trim();r&&await g(r)});async function g(r){i.classList.add("hidden"),d.classList.remove("hidden"),u.innerHTML="";try{const e=(await(await fetch(`https://restcountries.com/v3.1/name/${r}?fullText=true`)).json())[0];if(!e)throw new Error("Invaild Country Name");const t=e.languages?Object.values(e.languages).join(", "):"N/A";u.innerHTML=`
        <div class="p-4 border rounded shadow">
            <img src="${e.flags.svg}" alt="flag" class="w-32 mb-2" />
            <h2 class="text-xl font-bold">${e.name.common}</h2>
            <p><strong>Region : </strong> ${e.region}</p>
            <p><strong>Capital : </strong>${e.capital}</p>
            <p><strong>Population : </strong> ${e.population.toLocaleString()}</p>
            <p><strong>languages : </strong>${t}</p>
            <p><strong>Timezone : </strong>${e.timezones}</p>
        </div>
    `,console.log(e.latlng),f(e.latlng,e.name.common)}catch(n){i.classList.remove("hidden"),i.textContent=n.message||"Failed to fetch the country info"}finally{d.classList.add("hidden")}}let l;function f(r,n){const[s,e]=r;a?a.setView([s,e],5):(a=L.map("map").setView([s,e],5),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Â© OpenStreetMap contributors"}).addTo(a)),l&&a.removeLayer(l),l=L.marker([s,e]).addTo(a).bindPopup(n).openPopup()}
